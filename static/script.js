const translations = {
    "en": {
        "page_title": "LokSevaGram",
        "main_title": "LokSevaGram",
        "subtitle": "Gram Panchayat Digital Services | Government of India",
        "welcome_main_title": "Welcome to the LokSevaGram",
        "welcome_para_1": "LokSevaGram is a digital platform designed to empower our village community. We provide a single point of access for essential public services, community engagement, and transparent governance.",
        "welcome_para_2": "Explore this website to find emergency contacts, submit feedback and suggestions, track the progress of local projects, and access important public records. Our goal is to make village administration more accessible and efficient for every resident.",
        "citizen_portal": "Citizen Portal",
        "welcome_citizen": "Welcome, Citizen!",
        "logout": "Logout",
        "sidebar_dashboard": "Dashboard",
        "sidebar_financial": "Financial Services",
        "sidebar_grievance": "Grievance Redressal",
        "sidebar_schemes": "Schemes & Subsidies",
        "sidebar_info": "Information Hub",
        "sidebar_requests": "Certificates & RTI",
        "sidebar_engagement": "Citizen Engagement",
        "summary_pending": "Pending Applications",
        "summary_resolved": "Resolved Grievances",
        "summary_due": "Taxes Due",
        "common_services": "Common Services",
        "action_pay_tax": "Pay Property Tax",
        "action_lodge_grievance": "Lodge Grievance",
        "action_pay_water": "Pay Water Bill",
        "action_view_schemes": "View Schemes",
        "action_notices": "Village Notices",
        "action_meetings": "Meeting Schedules",
        "action_asset_tracker": "Asset & Project Tracker",
        "action_emergency_dir": "Emergency Directory",
        "action_lodge_new": "Lodge New Complaint",
        "action_track_grievance": "Track My Grievances",
        "action_all_schemes": "View All Schemes",
        "action_my_schemes": "My Applied Schemes",
        "action_beneficiary_list": "Beneficiary Lists",
        "action_apply_cert": "Apply Certificate",
        "action_submit_rti": "Submit RTI Request",
        "action_link_land": "Link Land Records",
        "action_evoting": "E-Voting & Polls",
        "action_feedback": "Feedback & Suggestions",
        "login_page_title": "LokSevaGram - Login",
        "back_main": "Back to Main Page",
        "login_title": "Login",
        "login_id": "Aadhaar / Mobile Number",
        "login_otp": "OTP",
        "login_send_otp": "Send OTP",
        "login_as": "Login As",
        "role_citizen": "Citizen",
        "role_staff": "Panchayat Staff",
        "role_official": "Higher Official",
        "login_button": "Login",
        "access_guide_title": "How to Access LokSevaGram",
        "access_guide_intro": "Follow these simple steps to log in and start using the services:",
        "access_guide_step1_title": "Step 1: Go to the Login Page",
        "access_guide_step1_desc": "Click on the 'Login' button at the top right corner of the home page or navigate directly to Login Page.",
        "access_guide_step2_title": "Step 2: Enter Your Credentials",
        "access_guide_step2_desc": "Enter your registered Aadhaar Number and the One-Time Password (OTP) sent to your linked mobile number.",
        "access_guide_step3_title": "Step 3: Verify Your Identity",
        "access_guide_step3_desc": "Upon entering the OTP, the system will verify your identity. Make sure your mobile number is updated with your Aadhaar details.",
        "access_guide_step4_title": "Step 4: Access Your Dashboard",
        "access_guide_step4_desc": "Once verified, you will be directed to your personalized dashboard where you can access all available services and information."
    },
    "mr": {
        "page_title": "लोकसेवाग्राम",
        "main_title": "लोकसेवाग्राम",
        "subtitle": "ग्रामपंचायत डिजिटल सेवा | भारत सरकार",
        "welcome_main_title": "लोकसेवाग्राम मध्ये आपले स्वागत आहे",
        "welcome_para_1": "लोकसेवाग्राम हे आमच्या गावच्या समुदायाला सक्षम करण्यासाठी डिझाइन केलेले एक डिजिटल व्यासपीठ आहे. आम्ही आवश्यक सार्वजनिक सेवा, समुदाय सहभाग आणि पारदर्शक प्रशासनासाठी एकच प्रवेश बिंदू प्रदान करतो.",
        "welcome_para_2": "आपत्कालीन संपर्क शोधण्यासाठी, अभिप्राय आणि सूचना सबमिट करण्यासाठी, स्थानिक प्रकल्पांच्या प्रगतीचा मागोवा घेण्यासाठी आणि महत्त्वाच्या सार्वजनिक नोंदी मिळवण्यासाठी या वेबसाइटचे अन्वेषण करा. प्रत्येक रहिवाशासाठी ग्राम प्रशासन अधिक सुलभ आणि कार्यक्षम बनवणे हे आमचे ध्येय आहे.",
        "citizen_portal": "नागरिक पोर्टल",
        "welcome_citizen": "स्वागत आहे, नागरिक!",
        "logout": "लॉगआउट",
        "sidebar_dashboard": "डॅशबोर्ड",
        "sidebar_financial": "आर्थिक सेवा",
        "sidebar_grievance": "तक्रार निवारण",
        "sidebar_schemes": "योजना आणि अनुदान",
        "sidebar_info": "माहिती केंद्र",
        "sidebar_requests": "प्रमाणपत्रे आणि माहितीचा अधिकार",
        "sidebar_engagement": "नागरिक सहभाग",
        "summary_pending": "प्रलंबित अर्ज",
        "summary_resolved": "निवारण झालेल्या तक्रारी",
        "summary_due": "देय कर",
        "common_services": "सामान्य सेवा",
        "action_pay_tax": "मालमत्ता कर भरा",
        "action_lodge_grievance": "तक्रार नोंदवा",
        "action_pay_water": "पाणी बिल भरा",
        "action_view_schemes": "योजना पहा",
        "action_notices": "गावच्या सूचना",
        "action_meetings": "सभेचे वेळापत्रक",
        "action_asset_tracker": "मालमत्ता आणि प्रकल्प ट्रॅकर",
        "action_emergency_dir": "आपत्कालीन निर्देशिका",
        "action_lodge_new": "नवीन तक्रार नोंदवा",
        "action_track_grievance": "माझ्या तक्रारींचा मागोवा घ्या",
        "action_all_schemes": "सर्व योजना पहा",
        "action_my_schemes": "माझ्या अर्ज केलेल्या योजना",
        "action_beneficiary_list": "लाभार्थी याद्या",
        "action_apply_cert": "प्रमाणपत्रासाठी अर्ज करा",
        "action_submit_rti": "माहितीचा अधिकार अर्ज सादर करा",
        "action_link_land": "जमीन रेकॉर्ड लिंक करा",
        "action_evoting": "ई-मतदान आणि मतदान",
        "action_feedback": "अभिप्राय आणि सूचना",
        "login_page_title": "लोकसेवाग्राम - लॉगिन",
        "back_main": "मुख्य पृष्ठावर परत",
        "login_title": "लॉगिन",
        "login_id": "आधार / मोबाईल क्रमांक",
        "login_otp": "ओटीपी",
        "login_send_otp": "ओटीपी पाठवा",
        "login_as": "म्हणून लॉगिन करा",
        "role_citizen": "नागरिक",
        "role_staff": "पंचायत कर्मचारी",
        "role_official": "वरिष्ठ अधिकारी",
        "login_button": "लॉगिन",
        "access_guide_title": "लोकसेवाग्राममध्ये कसे प्रवेश करावे",
        "access_guide_intro": "लॉगिन करण्यासाठी आणि सेवा वापरणे सुरू करण्यासाठी या सोप्या चरणांचे अनुसरण करा:",
        "access_guide_step1_title": "पायरी 1: लॉगिन पृष्ठावर जा",
        "access_guide_step1_desc": "मुख्यपृष्ठाच्या वरच्या उजव्या कोपऱ्यातील 'लॉगिन' बटणावर क्लिक करा किंवा थेट लॉगिन पृष्ठावर जा.",
        "access_guide_step2_title": "पायरी 2: तुमची ओळखपत्रे प्रविष्ट करा",
        "access_guide_step2_desc": "तुमचा नोंदणीकृत आधार क्रमांक आणि तुमच्या लिंक केलेल्या मोबाईल नंबरवर पाठवलेला वन-टाइम पासवर्ड (ओटीपी) प्रविष्ट करा.",
        "access_guide_step3_title": "पायरी 3: तुमची ओळख सत्यापित करा",
        "access_guide_step3_desc": "ओटीपी प्रविष्ट केल्यावर, प्रणाली तुमची ओळख सत्यापित करेल. तुमचा मोबाईल नंबर तुमच्या आधार तपशीलांसह अद्ययावत असल्याची खात्री करा.",
        "access_guide_step4_title": "पायरी 4: तुमच्या डॅशबोर्डमध्ये प्रवेश करा",
        "access_guide_step4_desc": "एकदा सत्यापित झाल्यावर, तुम्हाला तुमच्या वैयक्तिक डॅशबोर्डवर निर्देशित केले जाईल जिथे तुम्ही सर्व उपलब्ध सेवा आणि माहितीमध्ये प्रवेश करू शकता."
    },
    "hi": {
        "page_title": "लोकसेवाग्राम",
        "main_title": "लोकसेवाग्राम",
        "subtitle": "ग्राम पंचायत डिजिटल सेवाएँ | भारत सरकार",
        "welcome_main_title": "लोकसेवाग्राम में आपका स्वागत है",
        "welcome_para_1": "लोकसेवाग्राम हमारे गाँव के समुदाय को सशक्त बनाने के लिए डिज़ाइन किया गया एक डिजिटल प्लेटफॉर्म है। हम आवश्यक सार्वजनिक सेवाओं, सामुदायिक जुड़ाव और पारदर्शी शासन के लिए एक ही पहुंच बिंदु प्रदान करते हैं।",
        "welcome_para_2": "आपातकालीन संपर्क खोजने, प्रतिक्रिया और सुझाव प्रस्तुत करने, स्थानीय परियोजनाओं की प्रगति को ट्रैक करने और महत्वपूर्ण सार्वजनिक अभिलेखों तक पहुंचने के लिए इस वेबसाइट का अन्वेषण करें। हमारा लक्ष्य प्रत्येक निवासी के लिए ग्राम प्रशासन को अधिक सुलभ और कुशल बनाना है।",
        "citizen_portal": "नागरिक पोर्टल",
        "welcome_citizen": "आपका स्वागत है, नागरिक!",
        "logout": "लॉगआउट",
        "sidebar_dashboard": "डैशबोर्ड",
        "sidebar_financial": "वित्तीय सेवाएं",
        "sidebar_grievance": "शिकायत निवारण",
        "sidebar_schemes": "योजनाएं और सब्सिडी",
        "sidebar_info": "सूचना केंद्र",
        "sidebar_requests": "प्रमाणपत्र और आरटीआई",
        "sidebar_engagement": "नागरिक सहभागिता",
        "summary_pending": "लंबित आवेदन",
        "summary_resolved": "निवारण की गई शिकायतें",
        "summary_due": "देय कर",
        "common_services": "सामान्य सेवाएँ",
        "action_pay_tax": "संपत्ति कर का भुगतान करें",
        "action_lodge_grievance": "शिकायत दर्ज करें",
        "action_pay_water": "पानी का बिल भरें",
        "action_view_schemes": "योजनाएं देखें",
        "action_notices": "गांव की सूचनाएं",
        "action_meetings": "बैठक का कार्यक्रम",
        "action_asset_tracker": "संपत्ति और परियोजना ट्रैकर",
        "action_emergency_dir": "आपातकालीन निर्देशिका",
        "action_lodge_new": "नई शिकायत दर्ज करें",
        "action_track_grievance": "मेरी शिकायतों को ट्रैक करें",
        "action_all_schemes": "सभी योजनाएं देखें",
        "action_my_schemes": "मेरी लागू की गई योजनाएं",
        "action_beneficiary_list": "लाभार्थी सूची",
        "action_apply_cert": "प्रमाणपत्र के लिए आवेदन करें",
        "action_submit_rti": "आरटीआई अनुरोध सबमिट करें",
        "action_link_land": "भूमि रिकॉर्ड लिंक करें",
        "action_evoting": "ई-वोटिंग और चुनाव",
        "action_feedback": "प्रतिक्रिया और सुझाव",
        "login_page_title": "लोकसेवाग्राम - लॉगिन",
        "back_main": "मुख्य पृष्ठ पर वापस जाएं",
        "login_title": "लॉगिन",
        "login_id": "आधार / मोबाइल नंबर",
        "login_otp": "ओटीपी",
        "login_send_otp": "ओटीपी भेजें",
        "login_as": "के रूप में लॉगिन करें",
        "role_citizen": "नागरिक",
        "role_staff": "पंचायत कर्मचारी",
        "role_official": "उच्च अधिकारी",
        "login_button": "लॉगिन",
        "access_guide_title": "लोकसेवाग्राम में कैसे पहुंचें",
        "access_guide_intro": "लॉग इन करने और सेवाओं का उपयोग शुरू करने के लिए इन सरल चरणों का पालन करें:",
        "access_guide_step1_title": "चरण 1: लॉगिन पृष्ठ पर जाएं",
        "access_guide_step1_desc": "होम पेज के ऊपरी दाएं कोने में 'लॉगिन' बटन पर क्लिक करें या सीधे लॉगिन पृष्ठ पर जाएं।",
        "access_guide_step2_title": "चरण 2: अपनी क्रेडेंशियल दर्ज करें",
        "access_guide_step2_desc": "अपना पंजीकृत आधार नंबर और अपने लिंक किए गए मोबाइल नंबर पर भेजा गया वन-टाइम पासवर्ड (ओटीपी) दर्ज करें।",
        "access_guide_step3_title": "चरण 3: अपनी पहचान सत्यापित करें",
        "access_guide_step3_desc": "ओटीपी दर्ज करने पर, सिस्टम आपकी पहचान को सत्यापित करेगा। सुनिश्चित करें कि आपका मोबाइल नंबर आपके आधार विवरण के साथ अपडेट है।",
        "access_guide_step4_title": "चरण 4: अपने डैशबोर्ड तक पहुंचें",
        "access_guide_step4_desc": "एक बार सत्यापित होने के बाद, आपको आपके व्यक्तिगत डैशबोर्ड पर निर्देशित किया जाएगा, जहाँ आप सभी उपलब्ध सेवाओं और जानकारी तक पहुंच सकते हैं।"
    }
};

const setLanguage = (lang) => {
    document.querySelectorAll('[data-lang-key]').forEach(element => {
        const key = element.getAttribute('data-lang-key');
        if (translations[lang] && translations[lang][key]) {
            if (element.tagName === 'TITLE') {
                document.title = translations[lang][key];
            } else {
                element.innerText = translations[lang][key];
            }
        }
    });
    localStorage.setItem('userLanguage', lang);
    const langSwitcher = document.getElementById('language-switcher');
    if (langSwitcher) langSwitcher.value = lang;
};

// ==========================================================
//  PAGE INITIALIZATION
// ==========================================================
document.addEventListener('DOMContentLoaded', () => {
    const langSwitcher = document.getElementById('language-switcher');
    if (langSwitcher) {
        langSwitcher.addEventListener('change', (event) => setLanguage(event.target.value));
    }
    const savedLang = localStorage.getItem('userLanguage') || 'en';
    setLanguage(savedLang);

    if (document.querySelector('.sidebar')) {
        loadCitizenDashboard();
    }
    
    // ===================================
    // IMAGE SLIDER LOGIC
    // ===================================
    const slides = document.querySelectorAll('.image-slider-container .slide');
    if (slides.length > 0) {
        let currentSlide = 0;

        const nextSlide = () => {
            slides[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('active');
        };

        // Set the interval for the automatic slide change (e.g., every 5 seconds)
        setInterval(nextSlide, 5000);
    }
});

// ==========================================================
// MOCK DATA & FUNCTIONS
// ==========================================================
const mockSummaryData = { pendingApplications: 2, resolvedGrievances: 5, taxesDue: 1 };

function handleLogin(event) {
    event.preventDefault();
    const userType = document.getElementById('userType').value;
    if (userType === 'citizen') {
        window.location.href = 'citizen-dashboard.html';
    } else {
        alert('Redirecting to staff/official portal...');
    }
}

function loadCitizenDashboard() {
    renderSummaryCards();
}

function renderSummaryCards() {
    const container = document.getElementById('summary-cards-container');
    if (!container) return;
    
    container.innerHTML = `
        <div class="col-md-4 mb-3">
            <div class="summary-card bg-card-blue">
                <h5 data-lang-key="summary_pending">Pending Applications</h5>
                <div class="summary-number">${mockSummaryData.pendingApplications}</div>
                <div class="summary-icon"><i class="bi bi-folder-symlink-fill"></i></div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="summary-card bg-card-green">
                <h5 data-lang-key="summary_resolved">Resolved Grievances</h5>
                <div class="summary-number">${mockSummaryData.resolvedGrievances}</div>
                <div class="summary-icon"><i class="bi bi-check-circle-fill"></i></div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="summary-card bg-card-saffron">
                <h5 data-lang-key="summary_due">Taxes Due</h5>
                <div class="summary-number">₹${mockSummaryData.taxesDue}</div>
                <div class="summary-icon"><i class="bi bi-exclamation-triangle-fill"></i></div>
            </div>
        </div>`;
    
    const currentLang = localStorage.getItem('userLanguage') || 'en';
    setLanguage(currentLang);
}