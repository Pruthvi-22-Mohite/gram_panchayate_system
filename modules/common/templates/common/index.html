{% extends 'common/base.html' %}
{% load static %}

{% block title %}Grampanchayat, Koparde - Gram Panchayat Digital Services{% endblock %}

{% block body_class %} class="main-page"{% endblock %}

{% block header_actions %}
<a href="{% url 'common:login' %}" class="btn btn-primary btn-sm" data-lang-key="login_button">Login</a>
{% endblock %}

{% block content %}
<br>
<div class="max-w-3xl mx-auto">
    <div class="bg-white p-6 md:p-10 rounded-lg shadow-md fancy-box text-center position-relative overflow-hidden" style="background: linear-gradient(to right, #f0f9ff, #e0f2fe); border: 1px solid #bae6fd;">
        <div class="position-absolute top-0 start-0 w-100 h-100" style="z-index: 0;"></div>
        <div class="position-relative z-1">
            <br>
            <div class="d-flex align-items-center justify-content-center mb-3">
                <i class="bi bi-house-door-fill text-primary me-3" style="font-size: 2.5rem;"></i>
                <h1 class="text-4xl md:text-5xl font-extrabold mb-0" data-lang-key="welcome_main_title">Welcome to the LokSevaGram</h1>
            </div>
            <p class="text-lg md:text-xl text-gray-700 mb-4" data-lang-key="welcome_para_1">
                <i class="bi bi-check-circle-fill text-success me-2"></i>LokSevaGram is a digital platform designed to empower our village community. We provide a single point of access for essential public services, community engagement, and transparent governance.
            </p>
            <p class="text-gray-500 text-sm md:text-base" data-lang-key="welcome_para_2">
                <i class="bi bi-check-circle-fill text-success me-2"></i>Explore this website to find emergency contacts, submit feedback and suggestions, track the progress of local projects, and access important public records. Our goal is to make village administration more accessible and efficient for every resident.
            </p>
            <br>
        </div>
    </div>
    <br>
    
    <main class="py-10 px-4 md:px-8">
        <div class="image-slider-container fancy-box mb-4 rounded-lg shadow-lg position-relative">
            <div class="position-absolute top-0 start-0 w-100 h-100" style="background: linear-gradient(transparent 0%, rgba(0,0,0,0.3) 100%); z-index: 1;"></div>
            <div class="slide active d-flex align-items-center justify-content-center">
                <img src="{% static 'images/1.jpeg' %}" alt="Digital services in a village setting" class="w-100 h-100 object-contain">
                <div class="position-absolute bottom-0 start-0 w-100 text-white p-4 z-2">
                    <h3 class="mb-0" data-lang-key="digital_transformation_title">Digital Transformation</h3>
                    <p class="mb-0" data-lang-key="digital_transformation_desc">Bringing technology to rural governance</p>
                </div>
            </div>
            <div class="slide d-flex align-items-center justify-content-center">
                <img src="{% static 'images/2.jpeg' %}" alt="Community engagement in local governance" class="w-100 h-100 object-contain">
                <div class="position-absolute bottom-0 start-0 w-100 text-white p-4 z-2">
                    <h3 class="mb-0" data-lang-key="community_engagement_title">Community Engagement</h3>
                    <p class="mb-0" data-lang-key="community_engagement_desc">Active participation in village development</p>
                </div>
            </div>
            <div class="slide d-flex align-items-center justify-content-center">
                <img src="{% static 'images/3.jpeg' %}" alt="A person using a computer to access public records" class="w-100 h-100 object-contain">
                <div class="position-absolute bottom-0 start-0 w-100 text-white p-4 z-2">
                    <h3 class="mb-0" data-lang-key="transparent_governance_title">Transparent Governance</h3>
                    <p class="mb-0" data-lang-key="transparent_governance_desc">Open access to public information and records</p>
                </div>
            </div>
            <div class="slide d-flex align-items-center justify-content-center">
                <img src="{% static 'images/4.jpeg' %}" alt="Rural development initiatives" class="w-100 h-100 object-contain">
                <div class="position-absolute bottom-0 start-0 w-100 text-white p-4 z-2">
                    <h3 class="mb-0" data-lang-key="rural_development_title">Rural Development</h3>
                    <p class="mb-0" data-lang-key="rural_development_desc">Infrastructure and growth initiatives</p>
                </div>
            </div>
            <div class="slide d-flex align-items-center justify-content-center">
                <img src="{% static 'images/5.jpeg' %}" alt="Transparent governance" class="w-100 h-100 object-contain">
                <div class="position-absolute bottom-0 start-0 w-100 text-white p-4 z-2">
                    <h3 class="mb-0" data-lang-key="transparent_governance_title">Transparent Governance</h3>
                    <p class="mb-0" data-lang-key="transparent_governance_desc">Open access to public information and records</p>
                </div>
            </div>
            <div class="slide d-flex align-items-center justify-content-center">
                <img src="{% static 'images/6.jpeg' %}" alt="Digital transformation" class="w-100 h-100 object-contain">
                <div class="position-absolute bottom-0 start-0 w-100 text-white p-4 z-2">
                    <h3 class="mb-0" data-lang-key="digital_transformation_title">Digital Transformation</h3>
                    <p class="mb-0" data-lang-key="digital_transformation_desc">Bringing technology to rural governance</p>
                </div>
            </div>
            <div class="slider-indicators position-absolute bottom-0 end-0 p-3 z-2">
                <span class="badge bg-primary me-1">1</span>
                <span class="badge bg-light text-dark me-1">2</span>
                <span class="badge bg-light text-dark me-1">3</span>
                <span class="badge bg-light text-dark me-1">4</span>
                <span class="badge bg-light text-dark me-1">5</span>
                <span class="badge bg-light text-dark">6</span>
            </div>
        </div>

        <br>
        <!-- Combined Information Section -->
        <div class="bg-white p-6 md:p-10 rounded-lg shadow-md mt-8 fancy-box" style="background: linear-gradient(to right, #f0f9ff, #e0f2fe); border: 1px solid #bae6fd;">
            <div class="d-flex align-items-center justify-content-center mb-4">
                <i class="bi bi-grid-3x3-gap-fill text-primary me-2" style="font-size: 1.5rem;"></i>
                <h2 class="text-2xl font-bold text-dark mb-0">Latest Updates & Information</h2>
            </div>
            
            <!-- Latest Announcements Section -->
            <div class="mb-4 pb-4 border-bottom">
                <div class="d-flex align-items-center justify-content-center mb-3">
                    <i class="bi bi-megaphone-fill text-primary me-2" style="font-size: 1.2rem;"></i>
                    <h3 class="h5 mb-0" data-lang-key="latest_announcements">Latest Announcements</h3>
                </div>
                
                {% if latest_notices %}
                    <div class="announcements-container">
                        {% for notice in latest_notices|slice:":3" %}
                            <div class="mb-3">
                                <div class="card border-left-primary shadow-sm h-100">
                                    <div class="card-body p-3">
                                        <div class="row no-gutters align-items-center">
                                            <div class="col mr-3">
                                                <div class="d-flex align-items-center mb-1">
                                                    <i class="bi bi-info-circle-fill text-primary me-1" style="font-size: 0.8rem;"></i>
                                                    <div class="text-xs font-weight-bold text-primary text-uppercase mb-0">{{ notice.get_notice_type_display }}</div>
                                                </div>
                                                <div class="small font-weight-bold text-gray-800">{{ notice.title|truncatewords:8 }}</div>
                                                <div class="text-muted small">
                                                    <i class="bi bi-calendar me-1" style="font-size: 0.8rem;"></i> {{ notice.date|date:"d M" }}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                    <div class="text-center mt-2">
                        <a href="{% url 'informationhub:notices_list' %}" class="btn btn-outline-primary btn-sm">
                            <i class="bi bi-eye me-1"></i><span data-lang-key="view_all_announcements">View All</span>
                        </a>
                    </div>
                {% else %}
                    <div class="alert alert-light text-center py-2">
                        <i class="bi bi-info-circle-fill me-1"></i><span data-lang-key="no_announcements">None</span>
                    </div>
                {% endif %}
            </div>
            
            <!-- Upcoming Meetings Section -->
            <div class="mb-4 pb-4 border-bottom">
                <div class="d-flex align-items-center justify-content-center mb-3">
                    <i class="bi bi-calendar-event-fill text-success me-2" style="font-size: 1.2rem;"></i>
                    <h3 class="h5 mb-0" data-lang-key="upcoming_meetings_title">Upcoming Meetings</h3>
                </div>
                
                {% if upcoming_meetings %}
                    <div class="meetings-container">
                        {% for meeting in upcoming_meetings|slice:":3" %}
                            <div class="mb-3">
                                <div class="card border-left-success shadow-sm h-100">
                                    <div class="card-body p-3">
                                        <div class="row no-gutters align-items-center">
                                            <div class="col mr-3">
                                                <div class="small font-weight-bold text-gray-800">{{ meeting.meeting_title|truncatewords:6 }}</div>
                                                <div class="text-muted small mb-1">
                                                    <i class="bi bi-calendar-check me-1" style="font-size: 0.8rem;"></i> {{ meeting.meeting_date|date:"d M" }}
                                                    <i class="bi bi-clock ms-2 me-1" style="font-size: 0.8rem;"></i> {{ meeting.time|time:"H:i" }}
                                                </div>
                                                <div class="text-muted small">
                                                    <i class="bi bi-geo-alt me-1" style="font-size: 0.8rem;"></i> {{ meeting.location|truncatechars:20 }}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                    <div class="text-center mt-2">
                        <a href="{% url 'informationhub:meetings_list' %}" class="btn btn-outline-success btn-sm">
                            <i class="bi bi-eye me-1"></i><span data-lang-key="view_all_meetings">View All</span>
                        </a>
                    </div>
                {% else %}
                    <div class="alert alert-light text-center py-2">
                        <i class="bi bi-calendar-x-fill me-1"></i><span data-lang-key="no_meetings">None</span>
                    </div>
                {% endif %}
            </div>
            
            <!-- Panchayat Budget Section -->
            <div>
                <div class="d-flex align-items-center justify-content-center mb-3">
                    <i class="bi bi-file-pdf-fill text-danger me-2" style="font-size: 1.2rem;"></i>
                    <h3 class="h5 mb-0" data-lang-key="panchayat_budget">Budget Documents</h3>
                </div>
                
                <div class="budget-container">
                    {% if budgets %}
                        <div class="mb-3">
                            {% for budget in budgets|slice:":3" %}
                                <div class="mb-2">
                                    <a href="{% url 'panchayat_budget:budget_pdf_view' budget.financial_year %}" target="_blank" class="btn btn-outline-danger btn-sm d-block">
                                        <i class="bi bi-file-pdf me-1"></i>{{ budget.title|truncatechars:25 }}
                                    </a>
                                </div>
                            {% endfor %}
                        </div>
                        <div class="text-center">
                            <a href="{% url 'panchayat_budget:public_budget_list' %}" class="btn btn-outline-secondary btn-sm">
                                <i class="bi bi-eye me-1"></i>View All
                            </a>
                        </div>
                    {% else %}
                        <div class="alert alert-light text-center py-2">
                            <i class="bi bi-file-earmark-text me-1"></i><span data-lang-key="no_budget_docs">None Available</span>
                        </div>
                    {% endif %}
                </div>
                
                <p class="text-center text-muted small mt-2" data-lang-key="budget_accessibility" style="font-size: 0.7rem;">
                    Access for transparency
                </p>
            </div>
        </div>
        
        <!-- Access Guide Section -->
        <div class="bg-white p-6 md:p-10 rounded-lg shadow-md mt-8 fancy-box" style="background: linear-gradient(to right, #f0f9ff, #e0f2fe); border: 1px solid #bae6fd;">
            <div class="d-flex align-items-center justify-content-center mb-4">
                <div class="bg-info bg-opacity-10 rounded-circle p-3 me-3">
                    <i class="bi bi-lightbulb-fill text-info" style="font-size: 1.5rem;"></i>
                </div>
                <h2 class="text-2xl font-bold text-dark mb-0" data-lang-key="access_guide_title">How to Access LokSevaGram</h2>
            </div>
            <p class="mb-4 text-center text-muted" data-lang-key="access_guide_intro">Follow these simple steps to log in and start using the services:</p>
            
            <div class="container">
                <div class="row g-4">
                    <div class="col-12">
                        <div class="step-card p-4 rounded-lg bg-white shadow-sm border mb-4" style="border: 1px solid #e2e8f0;">
                            <div class="d-flex">
                                <div class="step-number bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-4" style="min-width: 50px; width: 50px; height: 50px; font-weight: bold; font-size: 1.5rem; flex-shrink: 0;">1</div>
                                <div class="text-start">
                                    <div class="d-flex align-items-center mb-2">
                                        <i class="bi bi-megaphone-fill text-primary me-3" style="font-size: 1.8rem;"></i>
                                        <h4 class="h5 fw-bold mb-0" data-lang-key="access_guide_step1_title">Navigate to Login</h4>
                                    </div>
                                    <p class="text-muted mb-0" data-lang-key="access_guide_step1_desc">Click on the login button in the navigation bar.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="step-card p-4 rounded-lg bg-white shadow-sm border mb-4" style="border: 1px solid #e2e8f0;">
                            <div class="d-flex">
                                <div class="step-number bg-success text-white rounded-circle d-flex align-items-center justify-content-center me-4" style="min-width: 50px; width: 50px; height: 50px; font-weight: bold; font-size: 1.5rem; flex-shrink: 0;">2</div>
                                <div class="text-start">
                                    <div class="d-flex align-items-center mb-2">
                                        <i class="bi bi-person-badge-fill text-success me-3" style="font-size: 1.8rem;"></i>
                                        <h4 class="h5 fw-bold mb-0" data-lang-key="access_guide_step2_title">Select User Role</h4>
                                    </div>
                                    <p class="text-muted mb-0" data-lang-key="access_guide_step2_desc">Choose your user type: Citizen, Clerk, or Admin.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="step-card p-4 rounded-lg bg-white shadow-sm border mb-4" style="border: 1px solid #e2e8f0;">
                            <div class="d-flex">
                                <div class="step-number bg-warning text-white rounded-circle d-flex align-items-center justify-content-center me-4" style="min-width: 50px; width: 50px; height: 50px; font-weight: bold; font-size: 1.5rem; flex-shrink: 0;">3</div>
                                <div class="text-start">
                                    <div class="d-flex align-items-center mb-2">
                                        <i class="bi bi-key-fill text-warning me-3" style="font-size: 1.8rem;"></i>
                                        <h4 class="h5 fw-bold mb-0" data-lang-key="access_guide_step3_title">Sign In</h4>
                                    </div>
                                    <p class="text-muted mb-0" data-lang-key="access_guide_step3_desc">Enter your credentials or register as a new citizen.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="step-card p-4 rounded-lg bg-white shadow-sm border" style="border: 1px solid #e2e8f0;">
                            <div class="d-flex">
                                <div class="step-number bg-info text-white rounded-circle d-flex align-items-center justify-content-center me-4" style="min-width: 50px; width: 50px; height: 50px; font-weight: bold; font-size: 1.5rem; flex-shrink: 0;">4</div>
                                <div class="text-start">
                                    <div class="d-flex align-items-center mb-2">
                                        <i class="bi bi-speedometer2 text-info me-3" style="font-size: 1.8rem;"></i>
                                        <h4 class="h5 fw-bold mb-0" data-lang-key="access_guide_step4_title">Access Services</h4>
                                    </div>
                                    <p class="text-muted mb-0" data-lang-key="access_guide_step4_desc">Access your personalized dashboard to use services.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</div>

</div>
<br>

<!-- Footer -->
<footer class="footer mt-8 py-4 bg-light text-dark">
    <div class="container text-center">
        <p class="mb-0">&copy; 2026 Grampanchayat Koparde. All rights reserved.</p>
    </div>
</footer>

{% endblock %}